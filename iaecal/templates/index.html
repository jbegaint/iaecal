{% from "_form_helpers.html" import render_field %}

<html ng-app="IAECalApp">
	<head>
		<title>IAECal</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="csrf-token" content="{{ csrf_token() }}">
		<link href="{{ url_for('static', filename='bower_components/bootstrap/dist/css/bootstrap.min.css') }}" rel="stylesheet" media="screen">
		<link href="{{ url_for('static', filename='css/main.css') }}" rel="stylesheet" media="screen">
		<script src="{{ url_for('static', filename='bower_components/jquery/dist/jquery.min.js') }}"></script>
		<script src="{{ url_for('static', filename='bower_components/angular/angular.min.js') }}"></script>
		<script src="{{ url_for('static', filename='main.js') }}"></script>
	</head>
	<body ng-controller="IAECalController">
		<div class="container">
			<div class="row">
				<div class="col-md-6 col-md-offset-3 panel panel-default">
					<h1>Agenda IAE</h1>
					<p class="text-center">
					Obtenir un lien pour synchroniser votre calendrier IAE avec
					une application de calendrier ou Google Calendar.
					</p>
					<form name="form" role="form" ng-submit="submitForm()"
						novalidate ngCloak>
						{{ render_field(form.username) }}
						{{ render_field(form.password) }}

						<p class="help-block text-center">
							Votre identifiant et mot de passe ne seront pas
							stockés en clair dans la base de donnée.
						</p>
						<p class="text-center">
						<button class="btn btn-success btn-lg btn-url" type="submit" ng-class="{'disabled': showUrl }">
								Obtenir l'url
							</button>
						</p>
					</form>
				</div> <!-- col-md-6 col-md-offset-3 -->

				<div class="col-md-6 col-md-offset-3 panel" ng-show="(showUrl)">
					<p class="help-block text-center">
						Copier-Coller cette url dans votre agenda Google
						pour synchroniser vos cours:
					</p>
					<a class="cal-url" href="{{ '{{ serverData.url }}' }}">
						{{ '{{ serverData.url }}' }}
					</a>
				</div> <!-- col-md-6 col-md-offset-3 -->
			</div> <!-- row -->
		</div> <!-- container -->
	</body>
</html>
